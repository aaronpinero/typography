$break-codebox:$tybreak-boxes;

pre.codebox {
  background-color:$tycolor-shade;
  border:$tywidth-border $tycolor-border solid;
  box-shadow:0 0 tygrid(0.5) rgba(black,0.05) inset;
  box-sizing:border-box;
  overflow:auto;
  padding:calc(#{$tyspacing-md / 2} - #{$tywidth-border});
  position:relative;
  @media (min-width:$break-codebox) {
    box-shadow:0 0 tygrid(1) rgba(0,0,0,0.05) inset;
    padding:calc(#{$tyspacing-md} - #{$tywidth-border});
  }
  &.codebox-short {
    max-height:tygrid(12);
  }
  // element generated by codebox.js
  .codebox-label {
    color:rgba($tycolor-text-light,0.5);
    display:none;
    font-size:tyscale(-2);
    font-weight:bold;
    letter-spacing:0.05em;
    line-height:tygrid(1);
    position:absolute;
    right:tygrid(1);
    text-transform:uppercase;
    top:tygrid(1);
    @media (min-width:$break-codebox) {
      display:block;
    }
  }
  .codebox-label + & {
    margin-top:0;
  }
  code {
    background-color:transparent;
    padding:0;
  }
}

// customizing prism css
pre.codebox[class*="language-"] {
  background-color:$tycolor-shade !important;
  font-family:$tyfont-mono !important;
  margin:0 !important;
  padding:calc(#{$tyspacing-md / 2} - #{$tywidth-border}) !important;
  @media (min-width:$break-codebox) {
    padding:calc(#{$tyspacing-md} - #{$tywidth-border}) !important;
  }
  @if $tymargins-on {
    * + & {
      margin-top:$tyspacing-md !important;
    }
    li * + & {
      margin-top:$tyspacing-md / 2 !important;
    }
  }
  .tymargins-on * + & {
    margin-top:$tyspacing-md !important;
  }
  .tymargins-on li * + & {
    margin-top:$tyspacing-md / 2 !important;
  }
  code {
    font-family:$tyfont-mono !important;
  }
}